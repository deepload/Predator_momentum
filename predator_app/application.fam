App(
    appid="predator",
    name="Predator",
    apptype=FlipperAppType.EXTERNAL,
    entry_point="predator_app",
    # Icon reference removed until valid icon is available
    requires=["gui", "dialogs", "storage", "notification", "subghz", "nfc", "bt", "infrared", "gpio", "power", "music_player"],
    stack_size=8 * 1024,
    fap_category="Tools",
    fap_description="Pen testing toolkit for Flipper Zero",
    fap_version="1.3",  # Version updated with UI fixes
    fap_author="Nico Lococo",
    fap_weburl="https://github.com/predator-momentum/flipper",
    targets=["f7"],
    cdefines=["HEAP_SIZE=18000"],
    # Explicitly include all UI files
    sources=[
        "*.c",
        "helpers/*.c",
        "helpers/predator_ui_callbacks.c", 
        "helpers/predator_ui_elements.c",
        "helpers/predator_ui_math.c",
        "scenes/*.c",
        "scenes/predator_scene_start_new.c",
        "scenes/predator_scene_car_tesla_new.c",
        "scenes/predator_scene_car_jamming_new.c",
        "scenes/predator_scene_car_key_bruteforce_new.c",
        "scenes/predator_scene_car_passive_opener_new.c",
        "scenes/predator_scene_car_models_new.c",
        "scenes/predator_scene_rfid_clone_new.c",
        "scenes/predator_scene_rfid_bruteforce_new.c",
        "scenes/predator_scene_rfid_attacks_new.c",
        "scenes/predator_scene_wifi_deauth_new.c",
        "scenes/predator_scene_wifi_scan_new.c",
        "scenes/predator_scene_wifi_attacks_new.c",
        "scenes/predator_scene_wifi_evil_twin_new.c",
        "scenes/predator_scene_module_status_new.c",
        "scenes/predator_scene_gps_tracker_new.c",
        "scenes/predator_scene_about_new.c",
        "scenes/predator_scene_ble_scan_new.c",
        "scenes/predator_scene_ble_spam_new.c",
        "scenes/predator_scene_settings_new.c",
        "scenes/predator_scene_subghz_attacks_new.c",
        "scenes/predator_scene_wardriving_new.c",
    ],
)
